/* src/styles/theme.css */
/* Design tokens + small utility components (no @tailwind here!) */

@reference "tailwindcss";

/* ---------- 1) Tokens (light + dark) ---------- */
:root {
  --brand: 222 47% 11%;
  --brand-contrast: 0 0% 100%;

  --accent: 160 84% 39%;
  --accent-600: 160 84% 33%;
  --accent-100: 152 81% 96%;

  --bg: 210 20% 98%;
  --surface: 0 0% 100%;
  --text: 222 47% 11%;
  --muted: 215 16% 47%;
  --ring: 215 20% 65%;

  --radius: 16px;
  --radius-sm: 12px;

  --shadow-sm: 0 1px 2px 0 hsl(220 43% 11% / 0.04);
  --shadow-md: 0 8px 24px -8px hsl(220 43% 11% / 0.12);
}

@media (prefers-color-scheme: dark) {
  :root {
    --brand: 210 40% 96%;
    --brand-contrast: 222 47% 11%;

    --accent: 160 60% 45%;
    --accent-600: 160 60% 38%;
    --accent-100: 160 22% 18%;

    --bg: 222 47% 7%;
    --surface: 222 47% 10%;
    --text: 210 40% 96%;
    --muted: 217 12% 63%;
    --ring: 160 60% 45%;

    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.25);
    --shadow-md: 0 8px 24px -8px hsl(0 0% 0% / 0.45);
  }
}

/* ---------- 2) Base resets ---------- */
@layer base {
  html,
  body,
  #root {
    height: 100%;
  }
  body {
    background-color: hsl(var(--bg));
    color: hsl(var(--text));
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }
  :focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
}

/* ---------- 3) Component primitives ---------- */
@layer components {
  .card {
    @apply rounded-2xl bg-white shadow-sm ring-1 ring-black/5;
    border-radius: var(--radius);
    box-shadow: var(--shadow-sm);
    background-color: hsl(var(--surface));
  }

  .btn {
    @apply inline-flex items-center justify-center font-medium px-5 py-3 rounded-2xl transition;
    border-radius: var(--radius-sm);
  }
  .btn-primary {
    background-color: hsl(var(--accent));
    color: hsl(var(--brand-contrast));
  }
  .btn-primary:hover {
    background-color: hsl(var(--accent-600));
  }
  .btn-ghost {
    @apply ring-1 ring-gray-300 hover:bg-gray-50;
  }
  .btn-icon {
    @apply inline-flex items-center justify-center rounded-xl w-11 h-11;
    border-radius: var(--radius-sm);
    background-color: hsl(var(--accent));
    color: hsl(var(--brand-contrast));
  }

  .chip {
    @apply inline-flex items-center gap-2 text-xs font-medium px-2.5 py-1 rounded-full;
    background-color: hsl(var(--accent-100));
    color: hsl(var(--accent));
  }

  .appbar {
    @apply sticky top-0 z-20 backdrop-blur-md;
    background: linear-gradient(
      to bottom,
      hsl(var(--bg) / 0.9),
      hsl(var(--bg) / 0.7)
    );
  }

  .fab {
    @apply fixed bottom-6 right-6 shadow-md;
    width: 56px;
    height: 56px;
    border-radius: 9999px;
    background-color: hsl(var(--accent));
    color: hsl(var(--brand-contrast));
    box-shadow: var(--shadow-md);
  }
}

/* ---------- 4) Utilities ---------- */
@layer utilities {
  .safe-x {
    padding-left: max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
  }
  .safe-b {
    padding-bottom: max(24px, env(safe-area-inset-bottom));
  }
}
